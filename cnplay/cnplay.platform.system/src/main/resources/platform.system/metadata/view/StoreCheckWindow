{
    "type": "Ext.window.Window",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userClassName": "StoreCheckWindow",
        "height": 500,
        "layout": "border",
        "modal": true,
        "resizable": [
            "false"
        ],
        "title": "盘库",
        "width": 768
    },
    "name": "StoreInWindow1",
    "designerId": "da3ab11e-9278-4f96-84ba-06a5e820d973",
    "cn": [
        {
            "type": "Ext.form.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "bodyPadding": 10,
                "border": false,
                "header": false,
                "layout": "column",
                "layout|region": "center",
                "title": "编辑机构表单"
            },
            "name": "MyForm1",
            "designerId": "9c03ff34-2a32-49b6-984a-ac6a7a6a0874",
            "cn": [
                {
                    "type": "Ext.form.field.Hidden",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fieldLabel": "Label",
                        "name": "id"
                    },
                    "name": "MyHiddenField1",
                    "designerId": "7cbb24cd-2447-4ec6-8e6a-31f200e4f4d9"
                },
                {
                    "type": "Ext.form.field.Hidden",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fieldLabel": "Label",
                        "name": "orgId"
                    },
                    "name": "MyHiddenField",
                    "designerId": "e9a02554-e1e1-4034-af87-ef289f8c2e5b"
                },
                {
                    "type": "Ext.form.field.Display",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fieldLabel": "盘点时间",
                        "invalidText": "机构编码不能为空！",
                        "labelAlign": "right",
                        "name": "checkDateStr",
                        "padding": 5,
                        "width": 330
                    },
                    "name": "MyDisplayField",
                    "designerId": "e5804c79-7f07-4d29-8d6d-042051df091b"
                },
                {
                    "type": "Ext.form.field.Display",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fieldLabel": "网点名称",
                        "invalidText": "机构名称不能为空！",
                        "labelAlign": "right",
                        "name": "orgName",
                        "padding": 5,
                        "width": 330
                    },
                    "name": "MyDisplayField1",
                    "designerId": "354a903b-d14c-4e43-8b31-920d1642bc0b"
                },
                {
                    "type": "Ext.form.field.Display",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fieldLabel": "库存总数",
                        "invalidText": "机构名称不能为空！",
                        "labelAlign": "right",
                        "name": "countStore",
                        "padding": 5,
                        "width": 330
                    },
                    "name": "MyDisplayField2",
                    "designerId": "f119103f-711f-4f23-97bf-2ce5c2119ac9"
                },
                {
                    "type": "Ext.form.field.Display",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fieldLabel": "盘点总数",
                        "invalidText": "机构名称不能为空！",
                        "labelAlign": "right",
                        "name": "countCheck",
                        "padding": 5,
                        "width": 330
                    },
                    "name": "MyDisplayField3",
                    "designerId": "a348ee48-916a-43e3-93eb-760c93b22b61"
                },
                {
                    "type": "Ext.form.field.Display",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fieldLabel": "报警信息",
                        "labelAlign": "right",
                        "name": "warnMessage",
                        "padding": 5,
                        "width": 671
                    },
                    "name": "MyDisplayField4",
                    "designerId": "66a85b04-37bf-45a5-83ed-5635a2a4c26a"
                },
                {
                    "type": "basiceventbinding",
                    "reference": {
                        "name": "listeners",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fn": "onFormAfterRender",
                        "implHandler": [
                            "this.form=component;"
                        ],
                        "name": "afterrender",
                        "scope": "me"
                    },
                    "name": "onFormAfterRender",
                    "designerId": "cdcf550e-b3f2-42a3-9abe-2dd0eef8661c"
                },
                {
                    "type": "Ext.grid.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "height": 324,
                        "title": "盘点明细",
                        "width": 736
                    },
                    "name": "MyGridPanel",
                    "designerId": "c1b7e449-f5ed-4ad6-833a-36362966e921",
                    "cn": [
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "areaName",
                                "text": "存放区"
                            },
                            "name": "MyColumn",
                            "designerId": "0a9145c6-1fc9-4a90-9e39-093326759d03"
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "sn",
                                "text": "抵押物编号"
                            },
                            "name": "MyColumn1",
                            "designerId": "8c9b47e1-dee4-471c-8d04-85774f592bf5"
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "rfid",
                                "text": "标签号"
                            },
                            "name": "MyColumn3",
                            "designerId": "0d89ad21-75ed-4af5-ba1f-4673dc8d6c9b"
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "name",
                                "text": "抵押物名称"
                            },
                            "name": "MyColumn4",
                            "designerId": "400ead1e-4383-45e5-b6b3-f2b656c3f5c5"
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "storeman",
                                "text": "保管员"
                            },
                            "name": "MyColumn5",
                            "designerId": "c9cd69de-29c6-42f1-a505-a7679d2c2d60"
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "dywOwner",
                                "text": "抵押物所有人姓名"
                            },
                            "name": "MyColumn6",
                            "designerId": "7dd757c5-1428-4635-86ca-08f83b7a89df"
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "align": "center",
                                "dataIndex": "checkFlag",
                                "renderData": null,
                                "text": "盘点状态"
                            },
                            "name": "MyColumn7",
                            "designerId": "343db658-61df-4a91-9f9b-706cb599d947",
                            "cn": [
                                {
                                    "type": "fixedfunction",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|params": [
                                            "value",
                                            "metaData",
                                            "record",
                                            "rowIndex",
                                            "colIndex",
                                            "store",
                                            "view"
                                        ],
                                        "fn": "renderer",
                                        "implHandler": [
                                            "if(value==1){",
                                            "    return \"正常\";",
                                            "}else {",
                                            "    return \"<span style='color:red'>异常</span>\";",
                                            "}"
                                        ]
                                    },
                                    "name": "renderer",
                                    "designerId": "ea2da25e-b75f-41d3-8e21-0fb58d0e61ec"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.View",
                            "reference": {
                                "name": "viewConfig",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "MyGridView",
                            "designerId": "507ccbc4-84f1-43ce-bb26-2785f41df205"
                        },
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onGridpanelRender",
                                "implHandler": [
                                    "this.grid = component;"
                                ],
                                "name": "render",
                                "scope": "me"
                            },
                            "name": "onGridpanelRender",
                            "designerId": "42a5cb54-cbb9-4ab2-9ee6-f34ce1cd2195"
                        }
                    ]
                }
            ]
        },
        {
            "type": "Ext.toolbar.Toolbar",
            "reference": {
                "name": "dockedItems",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "container|align": "middle",
                "container|pack": "end",
                "dock": "bottom"
            },
            "name": "MyToolbar",
            "designerId": "cb4dcf63-3c28-4199-8cac-73e5c89af4fa",
            "cn": [
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "icon-save",
                        "layout|flex": null,
                        "text": "保存",
                        "width": 53
                    },
                    "name": "MyButton1",
                    "designerId": "acefcf4d-f947-4b4a-8716-f0c22aa6c7d1",
                    "cn": [
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onSaveClick",
                                "implHandler": [
                                    "",
                                    "var me = this;",
                                    "try{",
                                    "    Common.formSubmit({",
                                    "        url : ctxp+'/storeCheck/save',",
                                    "        form:me.form,",
                                    "        callback : function(result)",
                                    "        {",
                                    "            Ext.Msg.alert('操作提示', '保存成功！');",
                                    "            me.close();",
                                    "        }",
                                    "    });",
                                    "}catch(error){",
                                    "    Common.show({title:'操作提示',html:error.toString()});",
                                    "}"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "name": "onSaveClick",
                            "designerId": "7362a8f8-857a-4472-8435-b1840acec397"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "icon-cancel",
                        "layout|flex": null,
                        "text": "取消"
                    },
                    "name": "MyButton2",
                    "designerId": "bb0d1e5f-a2c9-48a0-ac61-cb7f8093d4e5",
                    "cn": [
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onCancelClick",
                                "implHandler": [
                                    "var me = this;",
                                    "me.close();"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "name": "onCancelClick",
                            "designerId": "7d63ad2c-8f41-4ccb-a283-4b8e74f48df9"
                        }
                    ]
                }
            ]
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "id"
                ],
                "fn": "loadForm",
                "implHandler": [
                    "var me = this;",
                    "try{",
                    "    Common.ajax({",
                    "        component : me.form,",
                    "        message : '加载信息...',",
                    "        url : ctxp+'/storeCheck/analyse?id='+id,",
                    "        callback : function(result)",
                    "        {",
                    "            me.form.getForm().reset();",
                    "            me.form.getForm().setValues(result.rows);",
                    "            me.vo = result.rows;",
                    "            Common.loadLocalStore({",
                    "                component:me.grid,",
                    "                fields: ['id', 'sn','rfid','checkFlag','name','areaId','areaName','memo', 'orgId', 'storeman','dywOwner','dywOwnerId','dywId','registerDate',",
                    "                 'jkrsfz','jkrxm','jkje','pgje','htEndDate','htStartDate','operator','updateCheckUsername','htId'],",
                    "                data:result.rows.itemList",
                    "            });",
                    "        }",
                    "    });",
                    "}",
                    "catch(error)",
                    "{",
                    "    Common.show({title:'操作提示',html:error.toString()});",
                    "}"
                ]
            },
            "name": "loadForm",
            "designerId": "7d5260e0-62e9-44df-865b-c612fa3d04f9"
        }
    ]
}