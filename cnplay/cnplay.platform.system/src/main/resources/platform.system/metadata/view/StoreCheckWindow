{
    "type": "Ext.window.Window",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userClassName": "StoreCheckWindow",
        "height": 500,
        "layout": "border",
        "modal": true,
        "resizable": [
            "false"
        ],
        "title": "盘库",
        "width": 768
    },
    "name": "StoreInWindow1",
    "designerId": "da3ab11e-9278-4f96-84ba-06a5e820d973",
    "cn": [
        {
            "type": "Ext.form.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "bodyPadding": 10,
                "border": false,
                "header": false,
                "layout": "column",
                "layout|region": "center",
                "title": "编辑机构表单"
            },
            "name": "MyForm1",
            "designerId": "9c03ff34-2a32-49b6-984a-ac6a7a6a0874",
            "cn": [
                {
                    "type": "Ext.form.field.Hidden",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fieldLabel": "Label",
                        "name": "id"
                    },
                    "name": "MyHiddenField1",
                    "designerId": "7cbb24cd-2447-4ec6-8e6a-31f200e4f4d9"
                },
                {
                    "type": "Ext.form.field.Text",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "allowBlank": false,
                        "blankText": null,
                        "fieldLabel": "物品编号",
                        "invalidText": "机构编码不能为空！",
                        "labelAlign": "right",
                        "maxLength": 10,
                        "name": "sn",
                        "padding": 5,
                        "width": 330
                    },
                    "name": "MyTextField3",
                    "designerId": "e5804c79-7f07-4d29-8d6d-042051df091b"
                },
                {
                    "type": "Ext.form.field.Text",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "allowBlank": false,
                        "blankText": null,
                        "enforceMaxLength": true,
                        "fieldLabel": "物品名称",
                        "invalidText": "机构名称不能为空！",
                        "labelAlign": "right",
                        "maxLength": 50,
                        "maxLengthText": "机构名称最大长度不超过50个字符！",
                        "name": "name",
                        "padding": 5,
                        "width": 330
                    },
                    "name": "MyTextField2",
                    "designerId": "354a903b-d14c-4e43-8b31-920d1642bc0b"
                },
                {
                    "type": "Ext.form.field.Text",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "allowBlank": false,
                        "blankText": null,
                        "enforceMaxLength": true,
                        "fieldLabel": "抵押物证号码",
                        "invalidText": "机构名称不能为空！",
                        "labelAlign": "right",
                        "maxLength": 50,
                        "maxLengthText": "机构名称最大长度不超过50个字符！",
                        "name": "dywId",
                        "padding": 5,
                        "width": 330
                    },
                    "name": "MyTextField",
                    "designerId": "f119103f-711f-4f23-97bf-2ce5c2119ac9"
                },
                {
                    "type": "Ext.form.field.Text",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "allowBlank": false,
                        "blankText": null,
                        "enforceMaxLength": true,
                        "fieldLabel": "担保物品所有人",
                        "invalidText": "机构名称不能为空！",
                        "labelAlign": "right",
                        "maxLength": 50,
                        "maxLengthText": "机构名称最大长度不超过50个字符！",
                        "name": "dywOwner",
                        "padding": 5,
                        "width": 330
                    },
                    "name": "MyTextField12",
                    "designerId": "a348ee48-916a-43e3-93eb-760c93b22b61"
                },
                {
                    "type": "Ext.form.field.Text",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "allowBlank": false,
                        "blankText": null,
                        "enforceMaxLength": true,
                        "fieldLabel": "所有人证件号码",
                        "invalidText": "机构名称不能为空！",
                        "labelAlign": "right",
                        "maxLength": 50,
                        "maxLengthText": "机构名称最大长度不超过50个字符！",
                        "name": "dywOwnerId",
                        "padding": 5,
                        "width": 330
                    },
                    "name": "MyTextField11",
                    "designerId": "9e8e0da8-d8e8-47a9-b540-0518630835e6"
                },
                {
                    "type": "Ext.form.field.Number",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "allowBlank": false,
                        "blankText": null,
                        "enforceMaxLength": true,
                        "fieldLabel": "评估价值",
                        "invalidText": "机构名称不能为空！",
                        "labelAlign": "right",
                        "maxLength": 50,
                        "maxLengthText": "机构名称最大长度不超过50个字符！",
                        "name": "pgje",
                        "padding": 5,
                        "width": 330
                    },
                    "name": "MyNumberField1",
                    "designerId": "e591bd34-8cd6-404b-ae19-43f9afe26379"
                },
                {
                    "type": "Ext.form.field.Number",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "allowBlank": false,
                        "blankText": null,
                        "enforceMaxLength": true,
                        "fieldLabel": "抵质押金额",
                        "invalidText": "机构名称不能为空！",
                        "labelAlign": "right",
                        "maxLength": 50,
                        "maxLengthText": "机构名称最大长度不超过50个字符！",
                        "name": "jkje",
                        "padding": 5,
                        "width": 330
                    },
                    "name": "MyNumberField2",
                    "designerId": "00b1bad9-e41d-4366-8491-cc566313cdbe"
                },
                {
                    "type": "Ext.form.field.Date",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "allowBlank": false,
                        "blankText": null,
                        "editable": false,
                        "enforceMaxLength": true,
                        "fieldLabel": "表外登记日期",
                        "format": "Y年m月d日",
                        "invalidText": "机构名称不能为空！",
                        "labelAlign": "right",
                        "maxLength": 50,
                        "maxLengthText": "机构名称最大长度不超过50个字符！",
                        "name": "registerDate",
                        "padding": 5,
                        "width": 330
                    },
                    "name": "MyDateField2",
                    "designerId": "5d5a3e6f-8a63-4da9-905a-c117bd7f1f7b"
                },
                {
                    "type": "Ext.form.field.Hidden",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fieldLabel": "上级机构",
                        "labelAlign": "right",
                        "name": "areaId",
                        "padding": 5,
                        "width": 330
                    },
                    "name": "MyHiddenField2",
                    "designerId": "25c835eb-2192-4089-a894-87020e447d8e"
                },
                {
                    "type": "Ext.form.field.Text",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "allowBlank": false,
                        "blankText": null,
                        "enforceMaxLength": true,
                        "fieldLabel": "保存区域",
                        "invalidText": "请选择保存区域",
                        "labelAlign": "right",
                        "maxLength": 50,
                        "maxLengthText": null,
                        "name": "areaName",
                        "padding": 5,
                        "readOnly": true,
                        "width": 330
                    },
                    "name": "MyTextField10",
                    "designerId": "0a415290-1679-4f0c-9cc8-935ab047e874",
                    "cn": [
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onParentNameTextfieldFocus",
                                "implHandler": [
                                    "try{",
                                    "    var me = this;",
                                    "    var areaId = me.form.getForm().findField('areaId');",
                                    "    Common.showTreeSelect({",
                                    "        multiple:false,",
                                    "        url:ctxp + '/store/area/tree',",
                                    "        params:{myId:areaId},",
                                    "        callback:function(item)",
                                    "        {",
                                    "            areaId.setValue(item.id);",
                                    "            component.setValue(item.text);",
                                    "        }",
                                    "    });",
                                    "}catch(ex){}"
                                ],
                                "name": "focus",
                                "scope": "me"
                            },
                            "name": "onParentNameTextfieldFocus",
                            "designerId": "a86c6cbb-2b9e-4ef0-ba10-438ec3315128"
                        }
                    ]
                },
                {
                    "type": "Ext.form.field.Text",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "allowBlank": false,
                        "blankText": null,
                        "enforceMaxLength": true,
                        "fieldLabel": "保管人",
                        "invalidText": "机构名称不能为空！",
                        "labelAlign": "right",
                        "maxLength": 50,
                        "maxLengthText": "机构名称最大长度不超过50个字符！",
                        "name": "storeman",
                        "padding": 5,
                        "width": 330
                    },
                    "name": "MyTextField13",
                    "designerId": "2e413494-3ff5-4270-948e-48e9b19a64a7"
                },
                {
                    "type": "Ext.form.field.TextArea",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "enforceMaxLength": true,
                        "fieldLabel": "备注",
                        "labelAlign": "right",
                        "maxLength": 100,
                        "maxLengthText": "备注内容最大长度不超过100个字符！",
                        "name": "memo",
                        "padding": 5,
                        "width": 671
                    },
                    "name": "MyTextArea",
                    "designerId": "66a85b04-37bf-45a5-83ed-5635a2a4c26a"
                },
                {
                    "type": "basiceventbinding",
                    "reference": {
                        "name": "listeners",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fn": "onFormAfterRender",
                        "implHandler": [
                            "this.form=component;"
                        ],
                        "name": "afterrender",
                        "scope": "me"
                    },
                    "name": "onFormAfterRender",
                    "designerId": "cdcf550e-b3f2-42a3-9abe-2dd0eef8661c"
                }
            ]
        },
        {
            "type": "Ext.toolbar.Toolbar",
            "reference": {
                "name": "dockedItems",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "container|align": "middle",
                "container|pack": "end",
                "dock": "bottom"
            },
            "name": "MyToolbar",
            "designerId": "cb4dcf63-3c28-4199-8cac-73e5c89af4fa",
            "cn": [
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "icon-save",
                        "layout|flex": null,
                        "text": "保存",
                        "width": 53
                    },
                    "name": "MyButton1",
                    "designerId": "acefcf4d-f947-4b4a-8716-f0c22aa6c7d1",
                    "cn": [
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onSaveClick",
                                "implHandler": [
                                    "",
                                    "var me = this;",
                                    "try{",
                                    "    Common.formSubmit({",
                                    "        url : ctxp+'/store/in/save',",
                                    "        form:me.form,",
                                    "        callback : function(result)",
                                    "        {",
                                    "            Ext.Msg.alert('操作提示', '保存成功！');",
                                    "            me.close();",
                                    "        }",
                                    "    });",
                                    "}catch(error){",
                                    "    Common.show({title:'操作提示',html:error.toString()});",
                                    "}"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "name": "onSaveClick",
                            "designerId": "7362a8f8-857a-4472-8435-b1840acec397"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "icon-cancel",
                        "layout|flex": null,
                        "text": "取消"
                    },
                    "name": "MyButton2",
                    "designerId": "bb0d1e5f-a2c9-48a0-ac61-cb7f8093d4e5",
                    "cn": [
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onCancelClick",
                                "implHandler": [
                                    "var me = this;",
                                    "me.close();"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "name": "onCancelClick",
                            "designerId": "7d63ad2c-8f41-4ccb-a283-4b8e74f48df9"
                        }
                    ]
                }
            ]
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "id"
                ],
                "fn": "loadForm",
                "implHandler": [
                    "var me = this;",
                    "try{",
                    "    Common.ajax({",
                    "        component : me.form,",
                    "        message : '加载信息...',",
                    "        url : ctxp+'/store/area/load?id='+id,",
                    "        callback : function(result)",
                    "        {",
                    "            me.form.getForm().reset();",
                    "            me.form.getForm().setValues(result.rows);",
                    "            if(!Ext.isEmpty(id)){",
                    "                me.form.getForm().findField('code').setReadOnly(result.rows.checked);",
                    "            }",
                    "        }",
                    "    });",
                    "}",
                    "catch(error)",
                    "{",
                    "    Common.show({title:'操作提示',html:error.toString()});",
                    "}"
                ]
            },
            "name": "loadForm",
            "designerId": "7d5260e0-62e9-44df-865b-c612fa3d04f9"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "rfidRead",
                "implHandler": [
                    "var me = this;",
                    "try{",
                    "    me.rfidBtn.setDisabled(false);",
                    "    Common.ajax({",
                    "        component : me.form,",
                    "        lock:false,",
                    "        url : ctxp+'/home/store/getTag',",
                    "        callback : function(result)",
                    "        {",
                    "            me.rfidBtn.setDisabled(true);",
                    "            if(result.rows === ''){",
                    "                setTimeout(window.rfidRead,2000);",
                    "            }else{",
                    "                me.rfidComp.setValue(result.rows);",
                    "                me.rfidBtn.setDisabled(false);",
                    "            }",
                    "        }",
                    "    });",
                    "}",
                    "catch(error)",
                    "{",
                    "    me.rfidBtn.setDisabled(false);",
                    "    Common.show({title:'操作提示',html:error.toString()});",
                    "}"
                ]
            },
            "name": "rfidRead",
            "designerId": "c61b80a2-1228-45e6-98f5-26566e2cc982"
        },
        {
            "type": "basiceventbinding",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onWindowDestroy",
                "implHandler": [
                    "setTimeout(window.rfidRead,1000);",
                    "window.rfidRead = null;"
                ],
                "name": "destroy",
                "scope": "me"
            },
            "name": "onWindowDestroy",
            "designerId": "1411fcca-8f9a-442f-8c81-896ab63b7a42"
        }
    ]
}